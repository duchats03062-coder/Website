<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoBuddy Pro - AI Chatbot M√¥i Tr∆∞·ªùng & S·ª©c Kh·ªèe</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-green: #10B981;
            --secondary-green: #34D399;
            --light-green: #D1FAE5;
            --dark-green: #059669;
            --eco-blue: #0EA5E9;
            --eco-yellow: #F59E0B;
            --eco-red: #EF4444;
            --eco-purple: #8B5CF6;
            --bg-light: #F9FAFB;
            --card-bg: #FFFFFF;
            --text-dark: #1F2937;
            --text-light: #6B7280;
            --border-color: #E5E7EB;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --radius-md: 12px;
            --radius-lg: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            padding: 1.5rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            margin-bottom: 1.5rem;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            font-size: 2rem;
        }

        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .logo-text p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Weather Info */
        .weather-info {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .weather-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
}

        .weather-item i {
            font-size: 1.2rem;
        }

        .aqi-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.25rem 1rem;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.2);
        }

        .aqi-circle {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        /* Main Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 1.5rem;
        }

        @media (max-width: 1024px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Left Panel */
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .stats-panel {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
        }

        .stats-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--dark-green);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stats-grid {
            display: grid;
            gap: 1rem;
        }

        .stat-item {
            background: var(--light-green);
            padding: 1rem;
            border-radius: var(--radius-md);
            border-left: 4px solid var(--primary-green);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-green);
        }

        .stat-source {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-top: 4px;
            font-style: italic;
        }

        .progress-container {
            margin-top: 1.5rem;
        }

        .progress-item {
            margin-bottom: 1rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 6px;
            font-size: 0.95rem;
        }

        .progress-bar {
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-green);
            border-radius: 4px;
            transition: width 1s ease;
        }

        /* Chat History Panel */
        .history-panel {
background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            max-height: 500px;
            display: flex;
            flex-direction: column;
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .history-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark-green);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .clear-history-btn {
            background: none;
            border: 1px solid var(--border-color);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-md);
            color: var(--text-light);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .clear-history-btn:hover {
            background: #FEE2E2;
            color: var(--eco-red);
            border-color: var(--eco-red);
        }

        .history-list {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .history-date-group {
            margin-bottom: 0.5rem;
        }

        .history-date-header {
            background: var(--light-green);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            color: var(--dark-green);
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 0.5rem;
            position: sticky;
            top: 0;
            z-index: 5;
        }

        .history-items {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding-left: 0.5rem;
        }

        .history-item {
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }

        .history-item:hover {
            background: var(--light-green);
            border-color: var(--primary-green);
            transform: translateX(5px);
        }

        .history-item-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--dark-green);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .history-question {
            font-size: 0.85rem;
            color: var(--text-dark);
margin-bottom: 0.25rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .history-time {
            font-size: 0.7rem;
            color: var(--text-light);
        }

        /* Chat Container */
        .chat-container {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            height: 750px;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-info h2 {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .chatbot-info p {
            font-size: 0.9rem;
            opacity: 0.9;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #10B981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .message {
            display: flex;
            flex-direction: column;
            max-width: 100%;
            animation: fadeIn 0.3s ease;
        }

        .bot-message {
            align-items: flex-start;
        }

        .user-message {
            align-items: flex-end;
        }

        .message-content {
            padding: 1rem 1.25rem;
            border-radius: var(--radius-md);
            max-width: 85%;
            word-wrap: break-word;
        }

        .bot-content {
            background: #F3F4F6;
            border: 1px solid var(--border-color);
            margin-right: auto;
        }

        .user-content {
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            margin-left: auto;
        }

        .message-time {
            font-size: 0.75rem;
            color: var(--text-light);
            margin-top: 4px;
            margin-left: 5px;
        }

        .user-message .message-time {
            text-align: right;
            margin-right: 5px;
        }
.quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .quick-action-btn {
            padding: 0.5rem 1rem;
            background: var(--light-green);
            border: 1px solid var(--primary-green);
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--dark-green);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quick-action-btn:hover {
            background: var(--primary-green);
            color: white;
        }

        .chat-input-container {
            padding: 1rem 1.5rem;
            background: white;
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: 1rem;
        }

        .chat-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .send-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--primary-green), var(--dark-green));
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            opacity: 0.9;
        }

        .info-card {
            background: #EFF6FF;
            border: 1px solid #DBEAFE;
            border-radius: var(--radius-md);
            padding: 1.25rem;
            margin: 1rem 0;
        }

        .info-card-title {
            color: var(--eco-blue);
            font-weight: 600;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        .health-card {
            background: #FEF3C7;
            border: 1px solid #FDE68A;
            border-radius: var(--radius-md);
            padding: 1.25rem;
            margin: 1rem 0;
        }

        .health-card-title {
            color: #92400E;
            font-weight: 600;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .waste-guide {
            background: #F0F9FF;
            border: 1px solid #E0F2FE;
            border-radius: var(--radius-md);
            padding: 1.25rem;
            margin: 1rem 0;
        }

        .waste-guide-title {
color: var(--primary-green);
            font-weight: 600;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .waste-category {
            margin-bottom: 1.25rem;
            padding-bottom: 1.25rem;
            border-bottom: 1px dashed #E5E7EB;
        }

        .waste-category:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .waste-category-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark-green);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .waste-examples {
            list-style: none;
            margin-left: 1.5rem;
        }

        .waste-examples li {
            margin-bottom: 0.4rem;
            position: relative;
        }

        .waste-examples li:before {
            content: "‚Ä¢";
            color: var(--primary-green);
            font-weight: bold;
            position: absolute;
            left: -1rem;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: #F3F4F6;
            border-radius: var(--radius-md);
            width: fit-content;
        }

        .typing-dots {
            display: flex;
            gap: 0.25rem;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: var(--text-light);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-green);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--dark-green);
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-leaf"></i>
                    </div>
<div class="logo-text">
                        <h1>EcoBuddy Pro</h1>
                        <p>AI Chatbot M√¥i tr∆∞·ªùng & S·ª©c kh·ªèe</p>
                    </div>
                </div>
                
                <div class="weather-info">
                    <div class="weather-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Vi·ªát Nam</span>
                    </div>
                    <div class="weather-item">
                        <i class="fas fa-temperature-half"></i>
                        <span id="currentTemp">--¬∞C</span>
                    </div>
                    <div class="aqi-indicator" id="aqiIndicator">
                        <div class="aqi-circle" id="aqiCircle" style="background: #10B981;"></div>
                        <span class="aqi-text" id="aqiText">AQI: --</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="main-layout">
            <div class="left-panel">
                <div class="stats-panel">
                    <div class="stats-title">
                        <i class="fas fa-chart-line"></i>
                        <span>Th·ªëng k√™ c·ªßa b·∫°n</span>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">ƒêi·ªÉm xanh t√≠ch l≈©y</div>
                            <div class="stat-value" id="userPoints">0</div>
                            <div class="stat-source">D·ª±a tr√™n ho·∫°t ƒë·ªông c·ªßa b·∫°n</div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-label">R√°c ph√¢n lo·∫°i ƒë√∫ng</div>
                            <div class="stat-value" id="correctClassifications">0</div>
                            <div class="stat-source">L·∫ßn ph√¢n lo·∫°i ch√≠nh x√°c</div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-label">C√¢u h·ªèi ƒë√£ h·ªèi</div>
                            <div class="stat-value" id="questionsAsked">0</div>
                            <div class="stat-source">T∆∞∆°ng t√°c v·ªõi chatbot</div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-label">Ng√†y tham gia</div>
                            <div class="stat-value" id="daysActive">1</div>
                            <div class="stat-source">S·ªë ng√†y s·ª≠ d·ª•ng</div>
                        </div>
                    </div>
                    
                    <div class="progress-container">
<div class="progress-item">
                            <div class="progress-header">
                                <span>Ti·∫øn ƒë·ªô h·ªçc t·∫≠p</span>
                                <span id="learningProgress">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="learningProgressBar" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="progress-item">
                            <div class="progress-header">
                                <span>M·ª©c ƒë·ªô hi·ªÉu bi·∫øt</span>
                                <span id="knowledgeLevel">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="knowledgeLevelBar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="history-panel">
                    <div class="history-header">
                        <div class="history-title">
                            <i class="fas fa-history"></i>
                            <span>L·ªãch s·ª≠ tr√≤ chuy·ªán</span>
                        </div>
                        <button class="clear-history-btn" onclick="clearChatHistory()">
                            <i class="fas fa-trash-alt"></i> X√≥a l·ªãch s·ª≠
                        </button>
                    </div>
                    <div class="history-list" id="chatHistory"></div>
                </div>
            </div>

            <div class="chat-container">
                <div class="chat-header">
                    <div class="chatbot-info">
                        <h2>Tr·ª£ l√Ω AI EcoBuddy</h2>
                        <p>
                            <span class="status-dot"></span>
                            <span>ƒêang tr·ª±c tuy·∫øn - H·ªèi g√¨ ƒë√°p n·∫•y</span>
                        </p>
                    </div>
                    <div>
                        <i class="fas fa-leaf"></i> M√¥i tr∆∞·ªùng & S·ª©c kh·ªèe
                    </div>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <div class="message bot-message">
                        <div class="message-content bot-content">
                            <strong>Xin ch√†o! T√¥i l√† EcoBuddy Pro üå±</strong><br><br>
                            T√¥i c√≥ th·ªÉ tr·∫£ l·ªùi M·ªåI C√ÇU H·ªéI c·ªßa b·∫°n v·ªÅ:<br><br>
                            
                            <strong>üóëÔ∏è PH√ÇN LO·∫†I R√ÅC:</strong><br>
‚Ä¢ Chai nh·ª±a, gi·∫•y, lon b·ªè th√πng n√†o?<br>
                            ‚Ä¢ Pin, b√≥ng ƒë√®n h·ªèng ƒë·ªÉ ƒë√¢u?<br>
                            ‚Ä¢ R√°c h·ªØu c∆°, v√¥ c∆° l√† g√¨?<br><br>
                            
                            <strong>üåç CH·∫§T L∆Ø·ª¢NG KH√îNG KH√ç:</strong><br>
                            ‚Ä¢ H√¥m nay AQI bao nhi√™u?<br>
                            ‚Ä¢ √î nhi·ªÖm ·∫£nh h∆∞·ªüng th·∫ø n√†o?<br>
                            ‚Ä¢ C√°ch b·∫£o v·ªá s·ª©c kh·ªèe?<br><br>
                            
                            <strong>‚ù§Ô∏è S·ª®C KH·ªéE:</strong><br>
                            ‚Ä¢ B·ªánh h√¥ h·∫•p, da, m·∫Øt, tim m·∫°ch<br>
                            ‚Ä¢ Dinh d∆∞·ª°ng, t·∫≠p th·ªÉ d·ª•c<br>
                            ‚Ä¢ Kh·∫©u trang n√†o t·ªët nh·∫•t?<br><br>
                            
                            <strong>üåø S·ªêNG XANH:</strong><br>
                            ‚Ä¢ M·∫πo ti·∫øt ki·ªám ƒëi·ªán, n∆∞·ªõc<br>
                            ‚Ä¢ C√°ch gi·∫£m r√°c th·∫£i nh·ª±a<br>
                            ‚Ä¢ Th√≥i quen b·∫£o v·ªá m√¥i tr∆∞·ªùng<br><br>
                            
                            <strong>‚ö†Ô∏è C·ª® H·ªéI - T√îI S·∫º TR·∫¢ L·ªúI CH√çNH X√ÅC!</strong>
                        </div>
                        <div class="message-time">V·ª´a xong</div>
                    </div>
                </div>
                
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="userInput" 
                           placeholder="B·∫°n mu·ªën h·ªèi g√¨? V√≠ d·ª•: Chai nh·ª±a b·ªè th√πng n√†o? Pin c≈© ƒë·ªÉ ƒë√¢u? H√¥m nay √¥ nhi·ªÖm kh√¥ng?..." 
                           onkeypress="handleKeyPress(event)">
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i> H·ªèi ngay
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== C·∫§U H√åNH ====================
        const OPENWEATHER_API_KEY = 'bd5e378503939ddaee76f12ad7a97608';
        const CITY_NAME = 'Hanoi';
        
        // ==================== D·ªÆ LI·ªÜU NG∆Ø·ªúI D√ôNG ====================
        let userData = {
            points: 0,
            correctClassifications: 0,
            questionsAsked: 0,
            daysActive: 1,
            learningProgress: 0,
            knowledgeLevel: 0,
            joinDate: new Date().toISOString()
        };

        let chatHistory = [];

        // ==================== L∆ØU TR·ªÆ ====================
        function saveUserData() {
            localStorage.setItem('ecoBuddyUserData', JSON.stringify(userData));
            updateStatsDisplay();
        }

        function loadUserData() {
            const savedData = localStorage.getItem('ecoBuddyUserData');
            if (savedData) {
userData = JSON.parse(savedData);
            } else {
                saveUserData();
            }
            
            if (userData.joinDate) {
                const joinDate = new Date(userData.joinDate);
                const today = new Date();
                const diffTime = Math.abs(today - joinDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                userData.daysActive = diffDays;
            }
            
            updateStatsDisplay();
        }

        function saveChatHistory() {
            localStorage.setItem('ecoBuddyChatHistory', JSON.stringify(chatHistory));
            displayChatHistory();
        }

        function loadChatHistory() {
            const savedHistory = localStorage.getItem('ecoBuddyChatHistory');
            if (savedHistory) {
                chatHistory = JSON.parse(savedHistory);
                displayChatHistory();
            }
        }

        function updateStatsDisplay() {
            document.getElementById('userPoints').textContent = userData.points;
            document.getElementById('correctClassifications').textContent = userData.correctClassifications;
            document.getElementById('questionsAsked').textContent = userData.questionsAsked;
            document.getElementById('daysActive').textContent = userData.daysActive;
            document.getElementById('learningProgress').textContent = Math.round(userData.learningProgress) + '%';
            document.getElementById('knowledgeLevel').textContent = Math.round(userData.knowledgeLevel) + '%';
            
            document.getElementById('learningProgressBar').style.width = userData.learningProgress + '%';
            document.getElementById('knowledgeLevelBar').style.width = userData.knowledgeLevel + '%';
        }

        // ==================== L·ªäCH S·ª¨ TR√í CHUY·ªÜN ====================
        function addToChatHistory(question, answer) {
            const now = new Date();
            const timeString = now.getHours().toString().padStart(2, '0') + ':' + 
                             now.getMinutes().toString().padStart(2, '0');
            const dateString = now.toLocaleDateString('vi-VN');
            
            let title = '';
            const msg = question.toLowerCase();
            
            if (msg.includes('chai nh·ª±a') || msg.includes('chai') && msg.includes('nh·ª±a')) title = 'ü•§ Ph√¢n lo·∫°i chai nh·ª±a';
            else if (msg.includes('pin') || msg.includes('·∫Øc quy')) title = 'üîã Ph√¢n lo·∫°i pin, ·∫Øc quy';
            else if (msg.includes('gi·∫•y') || msg.includes('b√°o') || msg.includes('s√°ch')) title = 'üìÑ Ph√¢n lo·∫°i gi·∫•y, s√°ch b√°o';
else if (msg.includes('lon') || msg.includes('kim lo·∫°i')) title = 'ü•´ Ph√¢n lo·∫°i lon, kim lo·∫°i';
            else if (msg.includes('th·ªßy tinh') || msg.includes('chai th·ªßy tinh')) title = 'ü•É Ph√¢n lo·∫°i th·ªßy tinh';
            else if (msg.includes('t√∫i nilon') || msg.includes('·ªëng h√∫t')) title = 'üõçÔ∏è Ph√¢n lo·∫°i t√∫i nilon, ·ªëng h√∫t';
            else if (msg.includes('b√≥ng ƒë√®n')) title = 'üí° Ph√¢n lo·∫°i b√≥ng ƒë√®n h·ªèng';
            else if (msg.includes('ƒëi·ªán t·ª≠') || msg.includes('ƒëi·ªán tho·∫°i') || msg.includes('m√°y t√≠nh')) title = 'üì± Ph√¢n lo·∫°i r√°c ƒëi·ªán t·ª≠';
            else if (msg.includes('th·ª©c ƒÉn') || msg.includes('v·ªè tr√°i c√¢y')) title = 'üçé Ph√¢n lo·∫°i r√°c h·ªØu c∆°';
            else if (msg.includes('kh√¥ng kh√≠') || msg.includes('√¥ nhi·ªÖm')) title = 'üåç Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠';
            else if (msg.includes('h√¥ h·∫•p') || msg.includes('ph·ªïi') || msg.includes('ho')) title = 'ü´Å S·ª©c kh·ªèe h√¥ h·∫•p';
            else if (msg.includes('da') || msg.includes('d·ªã ·ª©ng')) title = 'üß¥ S·ª©c kh·ªèe l√†n da';
            else if (msg.includes('m·∫Øt') || msg.includes('ƒë·ªè m·∫Øt')) title = 'üëÅÔ∏è S·ª©c kh·ªèe m·∫Øt';
            else if (msg.includes('tim') || msg.includes('huy·∫øt √°p')) title = '‚ù§Ô∏è S·ª©c kh·ªèe tim m·∫°ch';
            else if (msg.includes('kh·∫©u trang')) title = 'üò∑ H∆∞·ªõng d·∫´n ch·ªçn kh·∫©u trang';
            else if (msg.includes('dinh d∆∞·ª°ng') || msg.includes('ƒÉn u·ªëng')) title = 'ü•ó Dinh d∆∞·ª°ng & ƒë·ªÅ kh√°ng';
            else if (msg.includes('t·∫≠p th·ªÉ d·ª•c') || msg.includes('v·∫≠n ƒë·ªông')) title = 'üèÉ V·∫≠n ƒë·ªông & t·∫≠p luy·ªán';
            else if (msg.includes('ti·∫øt ki·ªám ƒëi·ªán')) title = '‚ö° M·∫πo ti·∫øt ki·ªám ƒëi·ªán';
            else if (msg.includes('ti·∫øt ki·ªám n∆∞·ªõc')) title = 'üíß M·∫πo ti·∫øt ki·ªám n∆∞·ªõc';
            else if (msg.includes('c√¢y l·ªçc kh√¥ng kh√≠')) title = 'üåø C√¢y l·ªçc kh√¥ng kh√≠';
            else if (msg.includes('s·ªëng xanh')) title = 'üå± M·∫πo s·ªëng xanh';
            else title = 'üí¨ T∆∞ v·∫•n: ' + question.substring(0, 30) + '...';
            
            chatHistory.unshift({
                id: Date.now(),
                question: question,
                answer: answer.replace(/<[^>]*>/g, '').substring(0, 100) + (answer.length > 100 ? '...' : ''),
                fullAnswer: answer,
                time: timeString,
                date: dateString,
                timestamp: now.getTime(),
                title: title
            });
            
            if (chatHistory.length > 50) {
                chatHistory = chatHistory.slice(0, 50);
            }
            
            saveChatHistory();
        }

        function displayChatHistory() {
            const historyContainer = document.getElementById('chatHistory');
            
            if (chatHistory.length === 0) {
historyContainer.innerHTML = '<p style="text-align: center; color: var(--text-light); padding: 2rem;">Ch∆∞a c√≥ l·ªãch s·ª≠ tr√≤ chuy·ªán</p>';
                return;
            }
            
            const groupedByDate = {};
            chatHistory.forEach(item => {
                if (!groupedByDate[item.date]) {
                    groupedByDate[item.date] = [];
                }
                groupedByDate[item.date].push(item);
            });
            
            const sortedDates = Object.keys(groupedByDate).sort((a, b) => {
                const [d1, m1, y1] = a.split('/');
                const [d2, m2, y2] = b.split('/');
                return new Date(y2, m2-1, d2) - new Date(y1, m1-1, d1);
            });
            
            let html = '';
            
            sortedDates.forEach(date => {
                const dayItems = groupedByDate[date].sort((a, b) => b.timestamp - a.timestamp);
                
                html += `
                    <div class="history-date-group">
                        <div class="history-date-header">
                            <i class="fas fa-calendar-alt"></i>
                            ${date}
                        </div>
                        <div class="history-items">
                `;
                
                dayItems.forEach(item => {
                    html += `
                        <div class="history-item" onclick="loadHistoryItem(${item.id})">
                            <div class="history-item-title">
                                <i class="fas fa-comment"></i>
                                ${item.title}
                            </div>
                            <div class="history-question">‚ùì ${escapeHtml(item.question.substring(0, 60))}${item.question.length > 60 ? '...' : ''}</div>
                            <div class="history-time">üïí ${item.time}</div>
                        </div>
                    `;
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            historyContainer.innerHTML = html;
        }

        function loadHistoryItem(id) {
            const historyItem = chatHistory.find(item => item.id === id);
            if (historyItem) {
                addUserMessage(historyItem.question);
                addBotMessage(historyItem.fullAnswer, true);
                setTimeout(() => scrollToBottom(), 100);
            }
        }

        function clearChatHistory() {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a to√†n b·ªô l·ªãch s·ª≠ tr√≤ chuy·ªán?')) {
                chatHistory = [];
                saveChatHistory();
                displayChatHistory();
            }
}

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // ==================== TH·ªúI TI·∫æT ====================
        async function fetchCurrentWeather() {
            try {
                const url = `https://api.openweathermap.org/data/2.5/weather?q=${CITY_NAME}&units=metric&lang=vi&appid=${OPENWEATHER_API_KEY}`;
                const response = await fetch(url);
                if (!response.ok) throw new Error('Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu th·ªùi ti·∫øt');
                
                const data = await response.json();
                document.getElementById('currentTemp').textContent = Math.round(data.main.temp) + '¬∞C';
                await fetchAirQuality(data.coord.lat, data.coord.lon);
                
            } catch (error) {
                console.error('L·ªói khi l·∫•y th·ªùi ti·∫øt:', error);
                document.getElementById('currentTemp').textContent = '28¬∞C';
                updateAQIDisplay(2);
            }
        }

        async function fetchAirQuality(lat, lon) {
            try {
                const url = `https://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${lon}&appid=${OPENWEATHER_API_KEY}`;
                const response = await fetch(url);
                if (!response.ok) throw new Error('Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu AQI');
                
                const data = await response.json();
                const aqi = data.list[0].main.aqi;
                updateAQIDisplay(aqi);
                
            } catch (error) {
                console.error('L·ªói khi l·∫•y AQI:', error);
                updateAQIDisplay(2);
            }
        }

        function updateAQIDisplay(aqi) {
            const aqiCircle = document.getElementById('aqiCircle');
            const aqiText = document.getElementById('aqiText');
            
            let aqiLevel = '';
            let color = '';
            
            switch(aqi) {
                case 1: aqiLevel = 'T·ªët'; color = '#10B981'; break;
                case 2: aqiLevel = 'Trung b√¨nh'; color = '#F59E0B'; break;
                case 3: aqiLevel = 'K√©m'; color = '#EF4444'; break;
                case 4: aqiLevel = 'X·∫•u'; color = '#8B5CF6'; break;
                case 5: aqiLevel = 'Nguy hi·ªÉm'; color = '#6B21A8'; break;
                default: aqiLevel = 'Trung b√¨nh'; color = '#F59E0B';
            }
            
            aqiCircle.style.background = color;
            aqiText.innerHTML = `AQI: ${aqiLevel}`;
        }

        // ==================== CHATBOT - H·ªéI G√å ƒê√ÅP N·∫§Y ====================
        
        document.addEventListener('DOMContentLoaded', function() {
loadUserData();
            loadChatHistory();
            fetchCurrentWeather();
            setInterval(fetchCurrentWeather, 1800000);
        });

        function addUserMessage(message) {
            const chatMessages = document.getElementById('chatMessages');
            const now = new Date();
            const timeString = now.getHours().toString().padStart(2, '0') + ':' + 
                             now.getMinutes().toString().padStart(2, '0');
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user-message';
            messageDiv.innerHTML = `
                <div class="message-content user-content">
                    ${escapeHtml(message)}
                </div>
                <div class="message-time">${timeString}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            scrollToBottom();
            
            userData.questionsAsked++;
            userData.points += 5;
            userData.learningProgress = Math.min(100, userData.learningProgress + 1);
            userData.knowledgeLevel = Math.min(100, userData.knowledgeLevel + 0.5);
            saveUserData();
        }

        function addBotMessage(content, isHTML = false) {
            const chatMessages = document.getElementById('chatMessages');
            const now = new Date();
            const timeString = now.getHours().toString().padStart(2, '0') + ':' + 
                             now.getMinutes().toString().padStart(2, '0');
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot-message';
            
            let contentHTML = '';
            if (isHTML) {
                contentHTML = `<div class="message-content bot-content">${content}</div>`;
            } else {
                contentHTML = `<div class="message-content bot-content">${escapeHtml(content)}</div>`;
            }
            
            messageDiv.innerHTML = contentHTML + `<div class="message-time">${timeString}</div>`;
            
            chatMessages.appendChild(messageDiv);
            scrollToBottom();
        }

        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot-message';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="typing-indicator">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
<div class="typing-dot"></div>
                    </div>
                    EcoBuddy ƒëang tr·∫£ l·ªùi...
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            scrollToBottom();
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) typingIndicator.remove();
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            if (!message) return;
            
            addUserMessage(message);
            input.value = '';
            
            showTypingIndicator();
            
            setTimeout(() => {
                removeTypingIndicator();
                const response = getAnswer(message);
                addBotMessage(response, true);
                addToChatHistory(message, response);
                
                if (message.toLowerCase().includes('r√°c') || 
                    message.toLowerCase().includes('ph√¢n lo·∫°i') ||
                    message.toLowerCase().includes('th√πng') ||
                    message.toLowerCase().includes('chai') ||
                    message.toLowerCase().includes('pin')) {
                    userData.correctClassifications++;
                    userData.points += 10;
                    saveUserData();
                }
            }, 1000);
        }

        // ==================== H·ªÜ TH·ªêNG TR·∫¢ L·ªúI CH√çNH X√ÅC ====================
        function getAnswer(question) {
            const msg = question.toLowerCase().trim();
            
            // ========== 1. PH√ÇN LO·∫†I CHAI NH·ª∞A ==========
            if (msg.includes('chai nh·ª±a') || (msg.includes('chai') && msg.includes('nh·ª±a')) || msg.includes('chai n∆∞·ªõc')) {
                return `
                    <strong>ü•§ H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I CHAI NH·ª∞A</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚úÖ CHAI NH·ª∞A T√ÅI CH·∫æ ƒê∆Ø·ª¢C:</strong></p>
                        <ul class="waste-examples">
                            <li>Chai n∆∞·ªõc su·ªëi, n∆∞·ªõc ng·ªçt (nh·ª±a PET s·ªë 1)</li>
                            <li>Chai s·ªØa, d·∫ßu g·ªôi, n∆∞·ªõc r·ª≠a ch√©n (nh·ª±a HDPE s·ªë 2)</li>
                            <li>H≈© ƒë·ª±ng th·ª±c ph·∫©m, chai ƒë·ª±ng s·ªØa chua (nh·ª±a PP s·ªë 5)</li>
                        </ul>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>B∆∞·ªõc 1: ƒê·ªï h·∫øt n∆∞·ªõc/n·ªôi dung b√™n trong</li>
                            <li>B∆∞·ªõc 2: R·ª≠a s·∫°ch b·∫±ng n∆∞·ªõc</li>
<li>B∆∞·ªõc 3: B·ªè n·∫Øp nh·ª±a (n·∫Øp b·ªè ri√™ng)</li>
                            <li>B∆∞·ªõc 4: B√≥p b·∫πp chai ƒë·ªÉ ti·∫øt ki·ªám di·ªán t√≠ch</li>
                            <li>B∆∞·ªõc 5: B·ªè v√†o th√πng <strong style="color: #10B981;">R√ÅC T√ÅI CH·∫æ (m√†u xanh)</strong></li>
                        </ul>
                        <p><strong>‚ùå CHAI NH·ª∞A KH√îNG T√ÅI CH·∫æ ƒê∆Ø·ª¢C:</strong></p>
                        <ul class="waste-examples">
                            <li>Chai ƒë·ª±ng d·∫ßu nh·ªõt, h√≥a ch·∫•t</li>
                            <li>Chai thu·ªëc tr·ª´ s√¢u</li>
                            <li>·ªêng h√∫t nh·ª±a, th√¨a dƒ©a nh·ª±a d√πng m·ªôt l·∫ßn</li>
                            <li>‚Üí B·ªè v√†o th√πng <strong style="color: #EF4444;">R√ÅC V√î C∆† (m√†u ƒë·ªè)</strong></li>
                        </ul>
                        <p><em>üí° M·ªói chai nh·ª±a t√°i ch·∫ø ƒë√∫ng c√°ch gi√∫p ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng ƒë·ªß ƒë·ªÉ th·∫Øp s√°ng b√≥ng ƒë√®n 60W trong 6 gi·ªù!</em></p>
                    </div>
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="quickAction('pin')">H·ªèi v·ªÅ pin</button>
                        <button class="quick-action-btn" onclick="quickAction('giay')">H·ªèi v·ªÅ gi·∫•y</button>
                        <button class="quick-action-btn" onclick="quickAction('lon')">H·ªèi v·ªÅ lon</button>
                    </div>
                `;
            }
            
            // ========== 2. PH√ÇN LO·∫†I PIN, ·∫ÆC QUY ==========
            else if (msg.includes('pin') || msg.includes('·∫Øc quy') || msg.includes('pin c≈©')) {
                return `
                    <strong>üîã H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I PIN, ·∫ÆC QUY</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚ö†Ô∏è PIN, ·∫ÆC QUY L√Ä R√ÅC NGUY H·∫†I!</strong></p>
                        <p>Pin v√† ·∫Øc quy ch·ª©a nhi·ªÅu kim lo·∫°i n·∫∑ng nh∆∞ ch√¨, th·ªßy ng√¢n, cadimi - c·ª±c k·ª≥ ƒë·ªôc h·∫°i v·ªõi m√¥i tr∆∞·ªùng v√† s·ª©c kh·ªèe n·∫øu kh√¥ng ƒë∆∞·ª£c x·ª≠ l√Ω ƒë√∫ng c√°ch.</p>
                        <br>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li><strong>KH√îNG</strong> b·ªè chung v·ªõi r√°c sinh ho·∫°t th√¥ng th∆∞·ªùng</li>
                            <li><strong>KH√îNG</strong> ƒë·ªët pin</li>
                            <li><strong>KH√îNG</strong> ƒë·ªÉ pin ∆∞·ªõt ho·∫∑c ng√¢m n∆∞·ªõc</li>
                            <li>D√°n bƒÉng keo v√†o 2 ƒë·∫ßu c·ª±c c·ªßa pin ƒë·ªÉ tr√°nn ch·∫≠p ch√°y</li>
                            <li>B·ªè v√†o th√πng <strong style="color: #8B5CF6;">R√ÅC NGUY H·∫†I (th√πng m√†u v√†ng)</strong></li>
                            <li>N·∫øu tr∆∞·ªùng kh√¥ng c√≥ th√πng r√°c nguy h·∫°i, h√£y gom l·∫°i v√† ƒë∆∞a cho nh√¢n vi√™n v·ªá sinh, b·∫£o v·ªá ho·∫∑c th·∫ßy c√¥ ƒë·ªÉ x·ª≠ l√Ω ri√™ng</li>
</ul>
                        <br>
                        <p><strong>üè™ N∆†I TI·∫æP NH·∫¨N PIN C≈®:</strong></p>
                        <ul class="waste-examples">
                            <li>H·ªá th·ªëng si√™u th·ªã: VinMart, Co.op Mart, Lotte Mart</li>
                            <li>C·ª≠a h√†ng ƒëi·ªán m√°y: ƒêi·ªán M√°y Xanh, Nguy·ªÖn Kim</li>
                            <li>M·ªôt s·ªë tr∆∞·ªùng h·ªçc c√≥ ch∆∞∆°ng tr√¨nh thu gom pin</li>
                        </ul>
                        <p><em>üí° M·ªôt vi√™n pin nh·ªè c√≥ th·ªÉ l√†m √¥ nhi·ªÖm 500 l√≠t n∆∞·ªõc v√† 1m¬≥ ƒë·∫•t trong 50 nƒÉm!</em></p>
                    </div>
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="quickAction('bong-den')">H·ªèi v·ªÅ b√≥ng ƒë√®n</button>
                        <button class="quick-action-btn" onclick="quickAction('dien-tu')">H·ªèi v·ªÅ r√°c ƒëi·ªán t·ª≠</button>
                    </div>
                `;
            }
            
            // ========== 3. PH√ÇN LO·∫†I GI·∫§Y, S√ÅCH B√ÅO ==========
            else if (msg.includes('gi·∫•y') || msg.includes('b√°o') || msg.includes('s√°ch') || msg.includes('v·ªü') || msg.includes('carton') || msg.includes('th√πng gi·∫•y')) {
                return `
                    <strong>üìÑ H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I GI·∫§Y, S√ÅCH B√ÅO</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚úÖ GI·∫§Y T√ÅI CH·∫æ ƒê∆Ø·ª¢C:</strong></p>
                        <ul class="waste-examples">
                            <li>Gi·∫•y in, gi·∫•y vi·∫øt, v·ªü ƒë√£ qua s·ª≠ d·ª•ng</li>
                            <li>B√°o, t·∫°p ch√≠, s√°ch c≈©</li>
                            <li>Th√πng carton, h·ªôp gi·∫•y</li>
                            <li>B√¨a th∆∞, phong b√¨</li>
                        </ul>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>B∆∞·ªõc 1: Lo·∫°i b·ªè ghim, bƒÉng keo, b√¨a nilon</li>
                            <li>B∆∞·ªõc 2: X·∫øp g·ªçn ho·∫∑c c·ªôt th√†nh ch·ªìng</li>
                            <li>B∆∞·ªõc 3: ƒê·ªÉ kh√¥ r√°o, kh√¥ng l√†m ∆∞·ªõt</li>
                            <li>B∆∞·ªõc 4: B·ªè v√†o th√πng <strong style="color: #10B981;">R√ÅC T√ÅI CH·∫æ (m√†u xanh)</strong></li>
                        </ul>
                        <p><strong>‚ùå GI·∫§Y KH√îNG T√ÅI CH·∫æ ƒê∆Ø·ª¢C:</strong></p>
                        <ul class="waste-examples">
                            <li>Gi·∫•y v·ªá sinh, khƒÉn gi·∫•y ƒë√£ d√πng</li>
                            <li>Gi·∫•y d√≠nh d·∫ßu m·ª°, th·ª©c ƒÉn</li>
                            <li>H·ªôp s·ªØa, h·ªôp gi·∫•y tr√°ng nh·ª±a</li>
                            <li>Gi·∫•y b·∫°c, gi·∫•y nilon</li>
<li>‚Üí B·ªè v√†o th√πng <strong style="color: #EF4444;">R√ÅC V√î C∆† (m√†u ƒë·ªè)</strong></li>
                        </ul>
                        <p><em>üí° T√°i ch·∫ø 1 t·∫•n gi·∫•y gi√∫p c·ª©u 17 c√¢y xanh, ti·∫øt ki·ªám 30.000 l√≠t n∆∞·ªõc v√† 4.000 kWh ƒëi·ªán!</em></p>
                    </div>
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="quickAction('chai-nhua')">H·ªèi v·ªÅ chai nh·ª±a</button>
                        <button class="quick-action-btn" onclick="quickAction('lon')">H·ªèi v·ªÅ lon</button>
                    </div>
                `;
            }
            
            // ========== 4. PH√ÇN LO·∫†I LON, KIM LO·∫†I ==========
            else if (msg.includes('lon') || msg.includes('v·ªè lon') || msg.includes('kim lo·∫°i') || msg.includes('nh√¥m') || msg.includes('s·∫Øt') || msg.includes('ƒë·ªì h·ªôp')) {
                return `
                    <strong>ü•´ H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I LON, KIM LO·∫†I</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚úÖ LON, KIM LO·∫†I T√ÅI CH·∫æ ƒê∆Ø·ª¢C:</strong></p>
                        <ul class="waste-examples">
                            <li>Lon bia, n∆∞·ªõc ng·ªçt (nh√¥m)</li>
                            <li>ƒê·ªì h·ªôp (s·∫Øt, th√©p)</li>
                            <li>N·∫Øp chai kim lo·∫°i</li>
                            <li>D√¢y ƒëi·ªán (b·ªè v·ªè nh·ª±a)</li>
                            <li>V·∫≠t d·ª•ng kim lo·∫°i h·ªèng</li>
                        </ul>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>B∆∞·ªõc 1: R·ª≠a s·∫°ch, kh√¥ng c√≤n th·ª©c ƒÉn</li>
                            <li>B∆∞·ªõc 2: L√†m kh√¥</li>
                            <li>B∆∞·ªõc 3: B√≥p d·∫πp lon ƒë·ªÉ ti·∫øt ki·ªám di·ªán t√≠ch</li>
                            <li>B∆∞·ªõc 4: B·ªè v√†o th√πng <strong style="color: #10B981;">R√ÅC T√ÅI CH·∫æ (m√†u xanh)</strong></li>
                        </ul>
                        <p><em>üí° T√°i ch·∫ø 1 lon nh√¥m ti·∫øt ki·ªám ƒë·ªß nƒÉng l∆∞·ª£ng ƒë·ªÉ ch·∫°y TV trong 3 gi·ªù!</em></p>
                    </div>
                `;
            }
            
            // ========== 5. PH√ÇN LO·∫†I TH·ª¶Y TINH ==========
            else if (msg.includes('th·ªßy tinh') || msg.includes('chai th·ªßy tinh') || msg.includes('l·ªç th·ªßy tinh') || msg.includes('ly') || msg.includes('c·ªëc')) {
                return `
                    <strong>ü•É H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I TH·ª¶Y TINH</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚úÖ TH·ª¶Y TINH T√ÅI CH·∫æ ƒê∆Ø·ª¢C:</strong></p>
                        <ul class="waste-examples">
<li>Chai bia, chai r∆∞·ª£u, chai n∆∞·ªõc ng·ªçt th·ªßy tinh</li>
                            <li>L·ªç ƒë·ª±ng th·ª±c ph·∫©m (d∆∞a mu·ªëi, ·ªõt, t∆∞∆°ng ·ªõt)</li>
                            <li>H·ªß th·ªßy tinh</li>
                        </ul>
                        <p><strong>‚ö†Ô∏è L∆ØU √ù QUAN TR·ªåNG:</strong></p>
                        <ul class="waste-examples">
                            <li><strong style="color: #EF4444;">KH√îNG</strong> b·ªè th·ªßy tinh v·ª° tr·ª±c ti·∫øp v√†o th√πng r√°c - nguy hi·ªÉm cho c√¥ng nh√¢n v·ªá sinh</li>
                            <li>B·ªçc k√≠n m·∫£nh v·ª° trong gi·∫•y ho·∫∑c cho v√†o h·ªôp c·ª©ng</li>
                            <li>D√°n nh√£n "C·∫®N TH·∫¨N - TH·ª¶Y TINH V·ª†"</li>
                        </ul>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>R·ª≠a s·∫°ch, b·ªè n·∫Øp</li>
                            <li>B·ªè v√†o th√πng <strong style="color: #10B981;">R√ÅC T√ÅI CH·∫æ (m√†u xanh)</strong></li>
                            <li>N·∫øu th·ªßy tinh v·ª°: b·ªçc k√≠n ‚Üí th√πng <strong style="color: #EF4444;">R√ÅC V√î C∆†</strong></li>
                        </ul>
                    </div>
                `;
            }
            
            // ========== 6. PH√ÇN LO·∫†I T√öI NILON, ·ªêNG H√öT ==========
            else if (msg.includes('t√∫i nilon') || msg.includes('t√∫i nh·ª±a') || msg.includes('·ªëng h√∫t') || msg.includes('ly nh·ª±a')) {
                return `
                    <strong>üõçÔ∏è H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I T√öI NILON, ·ªêNG H√öT</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚ùå T√öI NILON, ·ªêNG H√öT:</strong></p>
                        <ul class="waste-examples">
                            <li>L√† r√°c th·∫£i nh·ª±a KH√îNG t√°i ch·∫ø ƒë∆∞·ª£c</li>
                            <li>Ph·∫£i m·∫•t 500-1000 nƒÉm ƒë·ªÉ ph√¢n h·ªßy</li>
                            <li>G√¢y √¥ nhi·ªÖm ƒë·∫•t, n∆∞·ªõc, t·∫Øc c·ªëng r√£nh</li>
                            <li>L√†m ch·∫øt ƒë·ªông v·∫≠t bi·ªÉn n·∫øu tr√¥i ra ƒë·∫°i d∆∞∆°ng</li>
                        </ul>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>B·ªè v√†o th√πng <strong style="color: #EF4444;">R√ÅC V√î C∆† (m√†u ƒë·ªè)</strong></li>
                            <li>T√∫i nilon s·∫°ch c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng</li>
                            <li><strong>GI·∫¢I PH√ÅP THAY TH·∫æ:</strong> Mang t√∫i v·∫£i, l√†n nh·ª±a ƒëi ch·ª£; d√πng ·ªëng h√∫t inox, gi·∫•y</li>
                        </ul>
                        <p><em>üí° M·ªói nƒÉm Vi·ªát Nam th·∫£i ra 1,8 tri·ªáu t·∫•n r√°c nh·ª±a, ch·ªâ 27% ƒë∆∞·ª£c t√°i ch·∫ø!</em></p>
                    </div>
                `;
            }
// ========== 7. PH√ÇN LO·∫†I B√ìNG ƒê√àN H·ªéNG ==========
            else if (msg.includes('b√≥ng ƒë√®n') || msg.includes('ƒë√®n hu·ª≥nh quang') || msg.includes('ƒë√®n compact') || msg.includes('ƒë√®n led')) {
                return `
                    <strong>üí° H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I B√ìNG ƒê√àN H·ªéNG</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚ö†Ô∏è B√ìNG ƒê√àN HU·ª≤NH QUANG, COMPACT:</strong></p>
                        <ul class="waste-examples">
                            <li>Ch·ª©a th·ªßy ng√¢n - c·ª±c k·ª≥ ƒë·ªôc h·∫°i</li>
                            <li>L√† R√ÅC NGUY H·∫†I, kh√¥ng b·ªè chung r√°c th∆∞·ªùng</li>
                        </ul>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>B·ªçc k√≠n trong gi·∫•y b√°o ho·∫∑c h·ªôp c·ª©ng</li>
                            <li>D√°n nh√£n "B√ìNG ƒê√àN H·ªéNG - C·∫®N TH·∫¨N"</li>
                            <li>B·ªè v√†o th√πng <strong style="color: #8B5CF6;">R√ÅC NGUY H·∫†I (m√†u v√†ng)</strong></li>
                            <li>Tr·∫£ l·∫°i cho c·ª≠a h√†ng ƒëi·ªán m√°y c√≥ ch∆∞∆°ng tr√¨nh thu h·ªìi</li>
                        </ul>
                        <p><strong>‚úÖ B√ìNG ƒê√àN LED:</strong> C√≥ th·ªÉ b·ªè v√†o th√πng R√ÅC V√î C∆† (m√†u ƒë·ªè)</p>
                    </div>
                `;
            }
            
            // ========== 8. PH√ÇN LO·∫†I R√ÅC ƒêI·ªÜN T·ª¨ ==========
            else if (msg.includes('ƒëi·ªán t·ª≠') || msg.includes('ƒëi·ªán tho·∫°i') || msg.includes('m√°y t√≠nh') || msg.includes('s·∫°c') || msg.includes('tai nghe') || msg.includes('remote')) {
                return `
                    <strong>üì± H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I R√ÅC ƒêI·ªÜN T·ª¨</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚ö†Ô∏è R√ÅC ƒêI·ªÜN T·ª¨ (E-WASTE):</strong></p>
                        <ul class="waste-examples">
                            <li>ƒêi·ªán tho·∫°i, m√°y t√≠nh b·∫£ng</li>
                            <li>Laptop, m√°y t√≠nh b√†n</li>
                            <li>S·∫°c, d√¢y c√°p, tai nghe</li>
                            <li>Remote, ƒë·ªì ch∆°i ƒëi·ªán t·ª≠</li>
                            <li>·ªî c·ª©ng, USB, linh ki·ªán m√°y t√≠nh</li>
                        </ul>
                        <p><strong>‚ö†Ô∏è NGUY H·∫†I:</strong> Ch·ª©a ch√¨, th·ªßy ng√¢n, cadimi - kh√¥ng ph√¢n h·ªßy, g√¢y √¥ nhi·ªÖm ngu·ªìn n∆∞·ªõc</p>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>KH√îNG b·ªè chung r√°c sinh ho·∫°t</li>
                            <li>B·ªè v√†o th√πng <strong style="color: #8B5CF6;">R√ÅC NGUY H·∫†I (m√†u v√†ng)</strong></li>
<li>Li√™n h·ªá c√°c c·ª≠a h√†ng ƒëi·ªán m√°y c√≥ thu ƒë·ªïi c≈©</li>
                            <li>X√≥a s·∫°ch d·ªØ li·ªáu c√° nh√¢n tr∆∞·ªõc khi v·ª©t b·ªè</li>
                        </ul>
                    </div>
                `;
            }
            
            // ========== 9. PH√ÇN LO·∫†I R√ÅC H·ªÆU C∆† ==========
            else if (msg.includes('th·ª©c ƒÉn') || msg.includes('v·ªè tr√°i c√¢y') || msg.includes('rau c·ªß') || msg.includes('l√° c√¢y') || msg.includes('h·ªØu c∆°')) {
                return `
                    <strong>üçé H∆Ø·ªöNG D·∫™N PH√ÇN LO·∫†I R√ÅC H·ªÆU C∆†</strong>
                    <br><br>
                    <div class="waste-guide">
                        <p><strong>‚úÖ R√ÅC H·ªÆU C∆† BAO G·ªíM:</strong></p>
                        <ul class="waste-examples">
                            <li>Th·ª©c ƒÉn th·ª´a, c∆°m th·ª´a</li>
                            <li>V·ªè tr√°i c√¢y, rau c·ªß</li>
                            <li>L√° c√¢y, hoa h√©o, c·ªè kh√¥</li>
                            <li>B√£ ch√®, b√£ c√† ph√™</li>
                            <li>V·ªè tr·ª©ng, x√°c ƒë·ªông v·∫≠t nh·ªè</li>
                        </ul>
                        <p><strong>üìå C√ÅCH X·ª¨ L√ù ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>B·ªè v√†o th√πng <strong style="color: #F59E0B;">R√ÅC H·ªÆU C∆† (th√πng m√†u n√¢u)</strong></li>
                            <li>C√≥ th·ªÉ ·ªß l√†m ph√¢n compost cho c√¢y</li>
                            <li>ƒê·ªÉ r√°o n∆∞·ªõc tr∆∞·ªõc khi b·ªè</li>
                        </ul>
                        <p><em>üí° ·ª¶ 1kg r√°c h·ªØu c∆° th√†nh ph√¢n compost gi√∫p gi·∫£m 1kg kh√≠ nh√† k√≠nh CO2!</em></p>
                    </div>
                `;
            }
            
            // ========== 10. CH·∫§T L∆Ø·ª¢NG KH√îNG KH√ç ==========
            else if (msg.includes('kh√¥ng kh√≠') || msg.includes('√¥ nhi·ªÖm') || msg.includes('b·ª•i') || msg.includes('aqi') || msg.includes('ch·ªâ s·ªë kh√¥ng kh√≠')) {
                const aqiText = document.getElementById('aqiText').innerHTML;
                const temp = document.getElementById('currentTemp').textContent;
                
                return `
                    <strong>üåç CH·∫§T L∆Ø·ª¢NG KH√îNG KH√ç VI·ªÜT NAM H√îM NAY</strong>
                    <br><br>
                    <div class="info-card">
                        <p><strong>üìä TH√îNG TIN HI·ªÜN T·∫†I:</strong></p>
                        <ul class="waste-examples">
                            <li>üå°Ô∏è Nhi·ªát ƒë·ªô: ${temp}</li>
                            <li>üí® Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠: ${aqiText}</li>
                            <li>üìç Khu v·ª±c: H√† N·ªôi (ƒë·∫°i di·ªán)</li>
                            <li>üïí C·∫≠p nh·∫≠t: ${new Date().getHours()}:${new Date().getMinutes().toString().padStart(2, '0')}</li>
                        </ul>
</div>
                    
                    <div class="health-card">
                        <p><strong>üõ°Ô∏è KHUY·∫æN NGH·ªä S·ª®C KH·ªéE:</strong></p>
                        ${aqiText.includes('T·ªët') ? `
                            <ul class="waste-examples">
                                <li>‚úÖ Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ t·ªët</li>
                                <li>‚úÖ An to√†n cho m·ªçi ho·∫°t ƒë·ªông ngo√†i tr·ªùi</li>
                                <li>‚úÖ C√≥ th·ªÉ m·ªü c·ª≠a s·ªï th√¥ng gi√≥</li>
                            </ul>
                        ` : aqiText.includes('Trung b√¨nh') ? `
                            <ul class="waste-examples">
                                <li>‚ö†Ô∏è Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ trung b√¨nh</li>
                                <li>‚ö†Ô∏è Nh√≥m nh·∫°y c·∫£m n√™n h·∫°n ch·∫ø ho·∫°t ƒë·ªông ngo√†i tr·ªùi</li>
                                <li>‚úÖ V·∫´n c√≥ th·ªÉ t·∫≠p th·ªÉ d·ª•c nh∆∞ng kh√¥ng qu√° g·∫Øng s·ª©c</li>
                                <li>‚úÖ N√™n ƒëeo kh·∫©u trang khi ra ƒë∆∞·ªùng</li>
                            </ul>
                        ` : aqiText.includes('K√©m') || aqiText.includes('X·∫•u') ? `
                            <ul class="waste-examples">
                                <li>‚ùå Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ k√©m</li>
                                <li>‚ùå H·∫°n ch·∫ø ra ngo√†i n·∫øu kh√¥ng c·∫ßn thi·∫øt</li>
                                <li>‚ùå ƒêeo kh·∫©u trang N95/KN95 khi ra ƒë∆∞·ªùng</li>
                                <li>‚ùå Kh√¥ng n√™n t·∫≠p th·ªÉ d·ª•c ngo√†i tr·ªùi</li>
                                <li>‚ùå ƒê√≥ng k√≠n c·ª≠a s·ªï, s·ª≠ d·ª•ng m√°y l·ªçc kh√¥ng kh√≠</li>
                            </ul>
                        ` : `
                            <ul class="waste-examples">
                                <li>üü° Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ trung b√¨nh</li>
                                <li>üü° N√™n ƒëeo kh·∫©u trang khi ra ƒë∆∞·ªùng</li>
                            </ul>
                        `}
                    </div>
                    
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="quickAction('khau-trang')">Ch·ªçn kh·∫©u trang</button>
                        <button class="quick-action-btn" onclick="quickAction('ho-hap')">B·ªánh h√¥ h·∫•p</button>
                        <button class="quick-action-btn" onclick="quickAction('cay-loc-kk')">C√¢y l·ªçc kh√¥ng kh√≠</button>
                    </div>
                `;
            }
            
            // ========== 11. S·ª®C KH·ªéE H√î H·∫§P ==========
            else if (msg.includes('h√¥ h·∫•p') || msg.includes('ph·ªïi') || msg.includes('ho') || msg.includes('hen suy·ªÖn') || msg.includes('vi√™m ph·∫ø qu·∫£n')) {
                return `
                    <strong>ü´Å B·ªÜNH H√î H·∫§P DO √î NHI·ªÑM KH√îNG KH√ç</strong>
                    <br><br>
<div class="health-card">
                        <p><strong>‚ö†Ô∏è C√ÅC B·ªÜNH TH∆Ø·ªúNG G·∫∂P:</strong></p>
                        <ul class="waste-examples">
                            <li><strong>Vi√™m m≈©i d·ªã ·ª©ng:</strong> H·∫Øt h∆°i, s·ªï m≈©i, ng·∫°t m≈©i, ng·ª©a m≈©i</li>
                            <li><strong>Vi√™m h·ªçng:</strong> ƒêau r√°t h·ªçng, ho khan, kh√†n ti·∫øng</li>
                            <li><strong>Hen suy·ªÖn:</strong> Kh√≥ th·ªü, th·ªü kh√≤ kh√®, t·ª©c ng·ª±c</li>
                            <li><strong>Vi√™m ph·∫ø qu·∫£n:</strong> Ho c√≥ ƒë·ªùm, s·ªët nh·∫π, m·ªát m·ªèi</li>
                            <li><strong>Vi√™m ph·ªïi:</strong> S·ªët cao, kh√≥ th·ªü, ƒëau ng·ª±c, ho ra ƒë·ªùm ƒë·∫∑c</li>
                        </ul>
                        
                        <p><strong>üõ°Ô∏è C√ÅCH PH√íNG TR√ÅNH:</strong></p>
                        <ul class="waste-examples">
                            <li>ƒêeo kh·∫©u trang N95/KN95 khi ch·ªâ s·ªë AQI > 100</li>
                            <li>R·ª≠a m≈©i b·∫±ng n∆∞·ªõc mu·ªëi sinh l√Ω m·ªói ng√†y</li>
                            <li>U·ªëng ƒë·ªß n∆∞·ªõc, u·ªëng n∆∞·ªõc ·∫•m</li>
                            <li>Gi·ªØ ·∫•m c·ªï khi th·ªùi ti·∫øt l·∫°nh</li>
                            <li>B·ªï sung vitamin C t·ª´ cam, b∆∞·ªüi, ·ªïi</li>
                            <li>Tr√°nh t·∫≠p th·ªÉ d·ª•c ngo√†i tr·ªùi khi √¥ nhi·ªÖm cao</li>
                            <li>S·ª≠ d·ª•ng m√°y l·ªçc kh√¥ng kh√≠ trong ph√≤ng ng·ªß</li>
                        </ul>
                        
                        <p><strong>üö® KHI N√ÄO C·∫¶N ƒêI KH√ÅM?</strong></p>
                        <ul class="waste-examples">
                            <li>Kh√≥ th·ªü, ƒëau t·ª©c ng·ª±c</li>
                            <li>S·ªët cao k√©o d√†i tr√™n 3 ng√†y</li>
                            <li>Ho ra m√°u</li>
                            <li>Th·ªü kh√≤ kh√®, co r√∫t l·ªìng ng·ª±c</li>
                            <li>C√°c tri·ªáu ch·ª©ng kh√¥ng thuy√™n gi·∫£m sau 5-7 ng√†y</li>
                        </ul>
                    </div>
                `;
            }
            
            // ========== 12. S·ª®C KH·ªéE L√ÄN DA ==========
            else if (msg.includes('da') || msg.includes('d·ªã ·ª©ng') || msg.includes('ng·ª©a') || msg.includes('m·∫©n ƒë·ªè') || msg.includes('n·ªïi m·ªÅ ƒëay')) {
                return `
                    <strong>üß¥ ·∫¢NH H∆Ø·ªûNG C·ª¶A √î NHI·ªÑM ƒê·∫æN L√ÄN DA</strong>
                    <br><br>
                    <div class="health-card">
                        <p><strong>‚ö†Ô∏è T√ÅC H·∫†I C·ª¶A B·ª§I M·ªäN V√Ä H√ìA CH·∫§T:</strong></p>
                        <ul class="waste-examples">
                            <li>B·ª•i m·ªãn PM2.5 b√°m tr√™n da g√¢y b√≠t t·∫Øc l·ªó ch√¢n l√¥ng</li>
                            <li>C√°c h·ª£p ch·∫•t h·ªØu c∆° d·ªÖ bay h∆°i g√¢y k√≠ch ·ª©ng</li>
<li>Kh√≠ NO2, SO2 l√†m suy y·∫øu h√†ng r√†o b·∫£o v·ªá da</li>
                            <li>TƒÉng t·ªëc ƒë·ªô l√£o h√≥a, h√¨nh th√†nh n·∫øp nhƒÉn, ƒë·ªëm n√¢u</li>
                            <li>G√¢y n√°m, t√†n nhang, s·∫°m da</li>
                            <li>L√†m n·∫∑ng th√™m c√°c b·ªánh eczema, vi√™m da c∆° ƒë·ªãa</li>
                        </ul>
                        
                        <p><strong>üõ°Ô∏è C√ÅCH B·∫¢O V·ªÜ DA:</strong></p>
                        <ul class="waste-examples">
                            <li>R·ª≠a m·∫∑t ngay sau khi ƒëi ƒë∆∞·ªùng v·ªÅ</li>
                            <li>T·∫©y trang k·ªπ l∆∞·ª°ng v√†o cu·ªëi ng√†y</li>
                            <li>S·ª≠ d·ª•ng kem ch·ªëng n·∫Øng SPF 30+ h√†ng ng√†y</li>
                            <li>ƒêeo kh·∫©u trang v·∫£i v√† kh·∫©u trang y t·∫ø khi ra ƒë∆∞·ªùng</li>
                            <li>Che ch·∫Øn k·ªπ: m≈© r·ªông v√†nh, √°o kho√°c ch·ªëng n·∫Øng</li>
                            <li>U·ªëng ƒë·ªß 2 l√≠t n∆∞·ªõc m·ªói ng√†y</li>
                            <li>ƒÇn nhi·ªÅu rau xanh, tr√°i c√¢y gi√†u vitamin E, C</li>
                            <li>H·∫°n ch·∫ø trang ƒëi·ªÉm d√†y khi ƒëi ra ƒë∆∞·ªùng</li>
                        </ul>
                    </div>
                `;
            }
            
            // ========== 13. S·ª®C KH·ªéE M·∫ÆT ==========
            else if (msg.includes('m·∫Øt') || msg.includes('ƒë·ªè m·∫Øt') || msg.includes('c·ªôm m·∫Øt') || msg.includes('kh√¥ m·∫Øt') || msg.includes('vi√™m k·∫øt m·∫°c')) {
                return `
                    <strong>üëÅÔ∏è ·∫¢NH H∆Ø·ªûNG C·ª¶A √î NHI·ªÑM ƒê·∫æN M·∫ÆT</strong>
                    <br><br>
                    <div class="health-card">
                        <p><strong>‚ö†Ô∏è C√ÅC V·∫§N ƒê·ªÄ TH∆Ø·ªúNG G·∫∂P:</strong></p>
                        <ul class="waste-examples">
                            <li><strong>Vi√™m k·∫øt m·∫°c (ƒëau m·∫Øt ƒë·ªè):</strong> ƒê·ªè m·∫Øt, ch·∫£y n∆∞·ªõc m·∫Øt, c·ªôm x·ªën, nhi·ªÅu gh√®n</li>
                            <li><strong>D·ªã ·ª©ng m·∫Øt:</strong> Ng·ª©a d·ªØ d·ªôi, s∆∞ng mi m·∫Øt, ch·∫£y n∆∞·ªõc m·∫Øt</li>
                            <li><strong>Kh√¥ m·∫Øt:</strong> C·∫£m gi√°c c√°t trong m·∫Øt, m·ªù t·∫°m th·ªùi, m·ªèi m·∫Øt</li>
                            <li><strong>M·ªèi m·∫Øt:</strong> Do √¥ nhi·ªÖm k·∫øt h·ª£p v·ªõi h·ªçc t·∫≠p cƒÉng th·∫≥ng</li>
                        </ul>
                        
                        <p><strong>üõ°Ô∏è C√ÅCH B·∫¢O V·ªÜ M·∫ÆT:</strong></p>
                        <ul class="waste-examples">
                            <li>ƒêeo k√≠nh r√¢m ho·∫∑c k√≠nh b·∫£o h·ªô khi ra ƒë∆∞·ªùng</li>
                            <li>Kh√¥ng d·ª•i m·∫Øt khi tay b·∫©n</li>
                            <li>Nh·ªè m·∫Øt b·∫±ng n∆∞·ªõc mu·ªëi sinh l√Ω 0.9%</li>
                            <li>Ch∆∞·ªùm m√°t khi m·∫Øt b·ªã k√≠ch ·ª©ng</li>
                            <li>B·ªï sung vitamin A t·ª´ c√† r·ªët, b√≠ ƒë·ªè, ƒëu ƒë·ªß, g·∫•c</li>
<li>Cho m·∫Øt ngh·ªâ ng∆°i sau m·ªói 45 ph√∫t h·ªçc t·∫≠p</li>
                            <li>ƒêeo k√≠nh √°p tr√≤ng ƒë√∫ng c√°ch, v·ªá sinh k√≠nh th∆∞·ªùng xuy√™n</li>
                        </ul>
                        
                        <p><strong>üö® KHI N√ÄO C·∫¶N ƒêI KH√ÅM?</strong></p>
                        <ul class="waste-examples">
                            <li>ƒêau m·∫Øt d·ªØ d·ªôi, s·ª£ √°nh s√°ng</li>
                            <li>Nh√¨n m·ªù ƒë·ªôt ng·ªôt</li>
                            <li>C√≥ m·ªß, gh√®n xanh v√†ng nhi·ªÅu</li>
                            <li>M·∫Øt s∆∞ng ƒë·ªè k√©o d√†i tr√™n 3 ng√†y</li>
                        </ul>
                    </div>
                `;
            }
            
            // ========== 14. S·ª®C KH·ªéE TIM M·∫†CH ==========
            else if (msg.includes('tim') || msg.includes('huy·∫øt √°p') || msg.includes('ƒë·ªôt qu·ªµ') || msg.includes('nh·ªìi m√°u c∆° tim')) {
                return `
                    <strong>‚ù§Ô∏è ·∫¢NH H∆Ø·ªûNG C·ª¶A √î NHI·ªÑM ƒê·∫æN TIM M·∫†CH</strong>
                    <br><br>
                    <div class="health-card">
                        <p><strong>üìä NGHI√äN C·ª®U CHO TH·∫§Y:</strong></p>
                        <ul class="waste-examples">
                            <li>√î nhi·ªÖm kh√¥ng kh√≠ l√†m tƒÉng 15-20% nguy c∆° m·∫Øc b·ªánh tim m·∫°ch</li>
                            <li>Ng∆∞·ªùi tr·∫ª tu·ªïi c≈©ng ch·ªãu ·∫£nh h∆∞·ªüng n·∫∑ng n·ªÅ kh√¥ng k√©m ng∆∞·ªùi gi√†</li>
                            <li>S·ªëng trong khu v·ª±c √¥ nhi·ªÖm cao tƒÉng 30% nguy c∆° ƒë·ªôt qu·ªµ</li>
                        </ul>
                        
                        <p><strong>‚ö†Ô∏è T√ÅC ƒê·ªòNG C·ª§ TH·ªÇ:</strong></p>
                        <ul class="waste-examples">
                            <li>B·ª•i m·ªãn PM2.5 xuy√™n qua ph·∫ø nang v√†o m√°u</li>
                            <li>G√¢y vi√™m th√†nh m·∫°ch, x∆° v·ªØa ƒë·ªông m·∫°ch</li>
                            <li>TƒÉng huy·∫øt √°p do stress oxy h√≥a</li>
                            <li>R·ªëi lo·∫°n nh·ªãp tim</li>
                            <li>TƒÉng nguy c∆° h√¨nh th√†nh c·ª•c m√°u ƒë√¥ng</li>
                            <li>L√†m n·∫∑ng th√™m b·ªánh suy tim</li>
                        </ul>
                        
                        <p><strong>üõ°Ô∏è BI·ªÜN PH√ÅP PH√íNG NG·ª™A:</strong></p>
                        <ul class="waste-examples">
                            <li>Ki·ªÉm tra ch·ªâ s·ªë AQI tr√™n ƒëi·ªán tho·∫°i tr∆∞·ªõc khi ra ngo√†i</li>
                            <li>H·∫°n ch·∫ø v·∫≠n ƒë·ªông g·∫Øng s·ª©c ngo√†i tr·ªùi khi √¥ nhi·ªÖm</li>
                            <li>Kh√¥ng h√∫t thu·ªëc, tr√°nh xa kh√≥i thu·ªëc</li>
                            <li>ƒÇn nh·∫°t, gi·∫£m mu·ªëi</li>
                            <li>T·∫≠p th·ªÉ d·ª•c ƒë·ªÅu ƒë·∫∑n trong nh√†</li>
                            <li>Ki·ªÉm tra huy·∫øt √°p ƒë·ªãnh k·ª≥</li>
<li>Kh√°m s·ª©c kh·ªèe t·ªïng qu√°t m·ªói nƒÉm</li>
                        </ul>
                    </div>
                `;
            }
            
            // ========== 15. KH·∫®U TRANG ==========
            else if (msg.includes('kh·∫©u trang') || msg.includes('mask') || msg.includes('n95') || msg.includes('kn95')) {
                return `
                    <strong>üò∑ H∆Ø·ªöNG D·∫™N CH·ªåN KH·∫®U TRANG PH√íNG √î NHI·ªÑM</strong>
                    <br><br>
                    <div class="health-card">
                        <p><strong>üèÜ KH·∫®U TRANG N95/KN95:</strong></p>
                        <ul class="waste-examples">
                            <li>L·ªçc ƒë∆∞·ª£c 95% b·ª•i m·ªãn PM2.5</li>
                            <li>Ph√π h·ª£p khi ch·ªâ s·ªë AQI > 100 (m√†u cam, ƒë·ªè, t√≠m)</li>
                            <li>C√≥ van th·ªü ho·∫∑c kh√¥ng van</li>
                            <li>Th·ªùi gian s·ª≠ d·ª•ng: 8-12 gi·ªù (c√≥ th·ªÉ d√πng 3-5 ng√†y n·∫øu b·∫£o qu·∫£n t·ªët)</li>
                            <li>Gi√° tham kh·∫£o: 25.000 - 50.000 ƒë·ªìng</li>
                            <li><strong>Mua ·ªü ƒë√¢u:</strong> Nh√† thu·ªëc, si√™u th·ªã, c·ª≠a h√†ng d·ª•ng c·ª• y t·∫ø</li>
                        </ul>
                        
                        <p><strong>ü•à KH·∫®U TRANG Y T·∫æ 4 L·ªöP:</strong></p>
                        <ul class="waste-examples">
                            <li>L·ªçc ƒë∆∞·ª£c 70-80% b·ª•i m·ªãn</li>
                            <li>Ph√π h·ª£p khi AQI 50-100 (m√†u v√†ng)</li>
                            <li>N√™n thay sau 4-6 gi·ªù s·ª≠ d·ª•ng</li>
                            <li>Gi√°: 2.000 - 5.000 ƒë·ªìng</li>
                        </ul>
                        
                        <p><strong>ü•â KH·∫®U TRANG V·∫¢I:</strong></p>
                            <li>Ch·ªâ ph√π h·ª£p khi AQI < 50 (m√†u xanh)</li>
                            <li>Gi·∫∑t s·∫°ch h√†ng ng√†y, ph∆°i n·∫Øng</li>
                            <li>C√≥ th·ªÉ k·∫øt h·ª£p v·ªõi kh·∫©u trang y t·∫ø b√™n trong ƒë·ªÉ tƒÉng hi·ªáu qu·∫£</li>
                        </ul>
                        
                        <p><strong>‚úÖ C√ÅCH ƒêEO KH·∫®U TRANG ƒê√öNG:</strong></p>
                        <ul class="waste-examples">
                            <li>R·ª≠a tay s·∫°ch tr∆∞·ªõc khi ƒëeo</li>
                            <li>Che k√≠n m≈©i, mi·ªáng v√† c·∫±m</li>
                            <li>B√≥p ch·∫∑t thanh n·∫πp m≈©i theo s·ªëng m≈©i</li>
                            <li>Kh√¥ng ch·∫°m tay v√†o m·∫∑t ngo√†i kh·∫©u trang khi ƒëang ƒëeo</li>
                            <li>Thay kh·∫©u trang ngay khi b·ªã ·∫©m, ∆∞·ªõt</li>
                            <li>Th√°o kh·∫©u trang b·∫±ng d√¢y ƒëeo, kh√¥ng ch·∫°m v√†o m·∫∑t ngo√†i</li>
                        </ul>
                    </div>
                `;
            }
// ========== 16. DINH D∆Ø·ª†NG TƒÇNG ƒê·ªÄ KH√ÅNG ==========
            else if (msg.includes('dinh d∆∞·ª°ng') || msg.includes('ƒÉn u·ªëng') || msg.includes('th·ª±c ph·∫©m') || msg.includes('ƒë·ªÅ kh√°ng') || msg.includes('tƒÉng s·ª©c ƒë·ªÅ kh√°ng')) {
                return `
                    <strong>ü•ó DINH D∆Ø·ª†NG TƒÇNG C∆Ø·ªúNG ƒê·ªÄ KH√ÅNG</strong>
                    <br><br>
                    <div class="health-card">
                        <p><strong>üçä VITAMIN C - CH·ªêNG OXY H√ìA:</strong></p>
                        <ul class="waste-examples">
                            <li>Cam, qu√Ωt, b∆∞·ªüi, chanh</li>
                            <li>·ªîi, kiwi, d√¢u t√¢y, ƒëu ƒë·ªß</li>
                            <li>Rau ng√≥t, rau c·∫£i, s√∫p l∆°, c√† chua</li>
                            <li><em>T√°c d·ª•ng:</em> TƒÉng s·∫£n xu·∫•t t·∫ø b√†o b·∫°ch c·∫ßu, ch·ªëng l·∫°i t√°c h·∫°i c·ªßa g·ªëc t·ª± do</li>
                        </ul>
                        
                        <p><strong>ü•ï VITAMIN A & BETA-CAROTENE - B·∫¢O V·ªÜ NI√äM M·∫†C:</strong></p>
                        <ul class="waste-examples">
                            <li>C√† r·ªët, b√≠ ƒë·ªè, khoai lang</li>
                            <li>ƒêu ƒë·ªß, xo√†i, g·∫•c, d∆∞a h·∫•u</li>
                            <li>Rau c·∫£i xanh, rau d·ªÅn, rau mu·ªëng</li>
                            <li><em>T√°c d·ª•ng:</em> B·∫£o v·ªá ni√™m m·∫°c ƒë∆∞·ªùng h√¥ h·∫•p, tƒÉng c∆∞·ªùng th·ªã l·ª±c</li>
                        </ul>
                        
                        <p><strong>üêü OMEGA-3 - CH·ªêNG VI√äM:</strong></p>
                        <ul class="waste-examples">
                            <li>C√° h·ªìi, c√° thu, c√° tr√≠ch, c√° basa</li>
                            <li>H·∫°t chia, h·∫°t lanh, qu·∫£ √≥c ch√≥</li>
                            <li>ƒê·∫≠u n√†nh, d·∫ßu oliu</li>
                            <li><em>T√°c d·ª•ng:</em> Gi·∫£m vi√™m, t·ªët cho tim m·∫°ch, ph·ªïi</li>
                        </ul>
                        
                        <p><strong>üíß N∆Ø·ªöC - THANH L·ªåC C∆† TH·ªÇ:</strong></p>
                        <ul class="waste-examples">
                            <li>U·ªëng 2-2.5 l√≠t n∆∞·ªõc m·ªói ng√†y</li>
                            <li>U·ªëng n∆∞·ªõc ·∫•m, h·∫°n ch·∫ø n∆∞·ªõc ƒë√°</li>
                            <li>C√≥ th·ªÉ u·ªëng tr√† xanh, n∆∞·ªõc √©p tr√°i c√¢y</li>
                        </ul>
                        
                        <p><strong>‚ö†Ô∏è TH·ª∞C PH·∫®M C·∫¶N H·∫†N CH·∫æ:</strong></p>
                        <ul class="waste-examples">
                            <li>ƒê·ªì chi√™n r√°n, nhi·ªÅu d·∫ßu m·ª°</li>
                            <li>Th·ª©c ƒÉn nhanh, ƒë·ªì h·ªôp</li>
                            <li>N∆∞·ªõc ng·ªçt c√≥ ga, bia r∆∞·ª£u</li>
                            <li>Th·ª©c ƒÉn qu√° m·∫∑n, qu√° ng·ªçt</li>
                        </ul>
                    </div>
                `;
}
            
            // ========== 17. T·∫¨P TH·ªÇ D·ª§C KHI √î NHI·ªÑM ==========
            else if (msg.includes('t·∫≠p th·ªÉ d·ª•c') || msg.includes('v·∫≠n ƒë·ªông') || msg.includes('th·ªÉ thao') || msg.includes('ch·∫°y b·ªô') || msg.includes('ƒëi b·ªô')) {
                const aqiText = document.getElementById('aqiText').innerHTML;
                
                return `
                    <strong>üèÉ H∆Ø·ªöNG D·∫™N T·∫¨P TH·ªÇ D·ª§C KHI √î NHI·ªÑM</strong>
                    <br><br>
                    <div class="health-card">
                        <p><strong>üìä CH·∫§T L∆Ø·ª¢NG KH√îNG KH√ç HI·ªÜN T·∫†I: ${aqiText}</strong></p>
                        
                        ${aqiText.includes('T·ªët') ? `
                            <p><strong style="color: #10B981;">‚úÖ AN TO√ÄN - C√ì TH·ªÇ T·∫¨P NGO√ÄI TR·ªúI</strong></p>
                            <ul class="waste-examples">
                                <li>C√≥ th·ªÉ ch·∫°y b·ªô, ƒëi b·ªô, ƒë·∫°p xe</li>
                                <li>N√™n t·∫≠p v√†o s√°ng s·ªõm (5h-6h30) ho·∫∑c chi·ªÅu t·ªëi (17h-18h30)</li>
                                <li>Tr√°nh t·∫≠p gi·ªØa tr∆∞a n·∫Øng g·∫Øt</li>
                            </ul>
                        ` : aqiText.includes('Trung b√¨nh') ? `
                            <p><strong style="color: #F59E0B;">‚ö†Ô∏è TH·∫¨N TR·ªåNG - H·∫†N CH·∫æ G·∫ÆNG S·ª®C</strong></p>
                            <ul class="waste-examples">
                                <li>C√≥ th·ªÉ ƒëi b·ªô nh·∫π nh√†ng, kh√¥ng n√™n ch·∫°y nhanh</li>
                                <li>N√™n ƒëeo kh·∫©u trang khi t·∫≠p</li>
                                <li>Th·ªùi gian t·∫≠p kh√¥ng qu√° 45 ph√∫t</li>
                                <li>Nh√≥m nh·∫°y c·∫£m (hen suy·ªÖn, d·ªã ·ª©ng) n√™n t·∫≠p trong nh√†</li>
                            </ul>
                        ` : `
                            <p><strong style="color: #EF4444;">‚ùå KH√îNG AN TO√ÄN - T·∫¨P TRONG NH√Ä</strong></p>
                            <ul class="waste-examples">
                                <li>Kh√¥ng n√™n t·∫≠p th·ªÉ d·ª•c ngo√†i tr·ªùi</li>
                                <li>Chuy·ªÉn sang c√°c b√†i t·∫≠p trong nh√†</li>
                            </ul>
                        `}
                        
                        <p><strong>üè† B√ÄI T·∫¨P TRONG NH√Ä:</strong></p>
                        <ul class="waste-examples">
                            <li><strong>Yoga:</strong> C√°c t∆∞ th·∫ø h√≠t th·ªü s√¢u, th∆∞ gi√£n</li>
                            <li><strong>Th·ªÉ d·ª•c nh·ªãp ƒëi·ªáu:</strong> Nh·∫£y d√¢y, ch·∫°y t·∫°i ch·ªó</li>
                            <li><strong>B√†i t·∫≠p s·ª©c m·∫°nh:</strong> Ch·ªëng ƒë·∫©y, g·∫≠p b·ª•ng, squat, plank</li>
                            <li><strong>T·∫≠p v·ªõi gh·∫ø:</strong> Leo gh·∫ø, ch·ªëng ƒë·∫©y v·ªõi gh·∫ø</li>
<li><strong>ƒêi b·ªô tr√™n m√°y:</strong> N·∫øu c√≥ m√°y t·∫≠p t·∫°i nh√†</li>
                        </ul>
                        
                        <p><strong>‚è∞ TH·ªúI ƒêI·ªÇM T·∫¨P T·ªêT NH·∫§T TRONG NG√ÄY:</strong></p>
                        <ul class="waste-examples">
                            <li>S√°ng s·ªõm: 5h30 - 6h30 (AQI th∆∞·ªùng th·∫•p nh·∫•t)</li>
                            <li>Chi·ªÅu t·ªëi: 18h - 19h (sau gi·ªù cao ƒëi·ªÉm)</li>
                            <li>Tr√°nh gi·ªù cao ƒëi·ªÉm: 7h-9h v√† 17h-19h</li>
                        </ul>
                    </div>
                `;
            }
            
            // ========== 18. C√ÇY L·ªåC KH√îNG KH√ç ==========
            else if (msg.includes('c√¢y l·ªçc kh√¥ng kh√≠') || msg.includes('c√¢y xanh') || msg.includes('tr·ªìng c√¢y') || msg.includes('c√¢y trong nh√†')) {
                return `
                    <strong>üåø C√ÇY XANH L·ªåC KH√îNG KH√ç TRONG NH√Ä</strong>
                    <br><br>
                    <div class="info-card">
                        <p><strong>üèÜ TOP 5 C√ÇY L·ªåC KH√îNG KH√ç T·ªêT NH·∫§T:</strong></p>
                        
                        <p><strong>1. C√¢y L∆∞·ª°i h·ªï (Snake Plant):</strong></p>
                        <ul class="waste-examples">
                            <li>H·∫•p th·ª• CO2, formaldehyde, benzene</li>
                            <li>Th·∫£i oxy v√†o ban ƒë√™m - r·∫•t t·ªët ƒë·ªÉ trong ph√≤ng ng·ªß</li>
                            <li>D·ªÖ chƒÉm s√≥c, ch·ªãu h·∫°n t·ªët</li>
                        </ul>
                        
                        <p><strong>2. C√¢y Lan √Ω (Peace Lily):</strong></p>
                        <ul class="waste-examples">
                            <li>L·ªçc benzene, formaldehyde, trichloroethylene</li>
                            <li>H·∫•p th·ª• b·ª•i m·ªãn hi·ªáu qu·∫£</li>
                            <li>C√≥ hoa tr·∫Øng ƒë·∫πp</li>
                        </ul>
                        
                        <p><strong>3. C√¢y Kim ng√¢n (Money Tree):</strong></p>
                        <ul class="waste-examples">
                            <li>H·∫•p th·ª• kh√≠ ƒë·ªôc, b·ª•i m·ªãn</li>
                            <li>Mang √Ω nghƒ©a may m·∫Øn, t√†i l·ªôc</li>
                        </ul>
                        
                        <p><strong>4. C√¢y Tr·∫ßu b√† (Pothos):</strong></p>
                        <ul class="waste-examples">
                            <li>L·ªçc formaldehyde, xylene, benzene</li>
                            <li>D√¢y leo ƒë·∫πp, d·ªÖ tr·ªìng th·ªßy canh</li>
                        </ul>
                        
                        <p><strong>5. C√¢y Nha ƒëam (Aloe Vera):</strong></p>
                        <ul class="waste-examples">
                            <li>H·∫•p th·ª• formaldehyde, benzene</li>
<li>Gel nha ƒëam d√πng l√†m ƒë·∫πp, ch·ªØa b·ªèng</li>
                        </ul>
                        
                        <p><strong>üìå C√ÅCH CHƒÇM S√ìC C√ÇY TRONG L·ªöP H·ªåC:</strong></p>
                        <ul class="waste-examples">
                            <li>T∆∞·ªõi n∆∞·ªõc 2-3 l·∫ßn/tu·∫ßn, kh√¥ng ƒë·ªÉ √∫ng</li>
                            <li>ƒê·∫∑t c√¢y ·ªü n∆°i c√≥ √°nh s√°ng t·ª± nhi√™n</li>
                            <li>Lau l√° th∆∞·ªùng xuy√™n ƒë·ªÉ c√¢y quang h·ª£p t·ªët</li>
                            <li>Ph√¢n b√≥n: b√≥n 1 l·∫ßn/th√°ng</li>
                        </ul>
                    </div>
                `;
            }
            
            // ========== 19. M·∫∏O TI·∫æT KI·ªÜM ƒêI·ªÜN ==========
            else if (msg.includes('ti·∫øt ki·ªám ƒëi·ªán') || msg.includes('t·ªën ƒëi·ªán') || msg.includes('h√≥a ƒë∆°n ƒëi·ªán')) {
                return `
                    <strong>‚ö° 10 C√ÅCH TI·∫æT KI·ªÜM ƒêI·ªÜN T·∫†I TR∆Ø·ªúNG H·ªåC</strong>
                    <br><br>
                    <div class="info-card">
                        <ul class="waste-examples">
                            <li><strong>1. T·∫Øt ƒë√®n khi ra kh·ªèi l·ªõp:</strong> D√π ch·ªâ 5 ph√∫t c≈©ng n√™n t·∫Øt</li>
                            <li><strong>2. T·∫≠n d·ª•ng √°nh s√°ng t·ª± nhi√™n:</strong> M·ªü c·ª≠a s·ªï, k√©o r√®m</li>
                            <li><strong>3. T·∫Øt qu·∫°t, m√°y l·∫°nh, m√°y chi·∫øu khi kh√¥ng s·ª≠ d·ª•ng</strong></li>
                            <li><strong>4. R√∫t ph√≠ch c·∫Øm c√°c thi·∫øt b·ªã s·∫°c khi kh√¥ng d√πng</strong> (v·∫´n t·ªën ƒëi·ªán ngay c·∫£ khi kh√¥ng s·∫°c)</li>
                            <li><strong>5. V·ªá sinh b√≥ng ƒë√®n, qu·∫°t th∆∞·ªùng xuy√™n:</strong> B√°m b·ª•i l√†m gi·∫£m hi·ªáu su·∫•t 30%</li>
                            <li><strong>6. S·ª≠ d·ª•ng qu·∫°t thay m√°y l·∫°nh:</strong> Qu·∫°t t·ªën 50-100W, m√°y l·∫°nh t·ªën 1000-2000W</li>
                            <li><strong>7. ƒê·ªÉ m√°y l·∫°nh ·ªü 26¬∞C:</strong> M·ªói ƒë·ªô gi·∫£m tƒÉng 5% ƒëi·ªán nƒÉng</li>
                            <li><strong>8. S·ª≠ d·ª•ng ƒë√®n LED:</strong> Ti·∫øt ki·ªám 80% ƒëi·ªán so v·ªõi ƒë√®n s·ª£i ƒë·ªët</li>
                            <li><strong>9. Kh√¥ng m·ªü t·ªß l·∫°nh qu√° l√¢u:</strong> ƒê√≥ng m·ªü nhi·ªÅu l√†m hao ƒëi·ªán</li>
                            <li><strong>10. Nh·∫Øc nh·ªü b·∫°n b√® c√πng ti·∫øt ki·ªám ƒëi·ªán</strong></li>
                        </ul>
                        <p><em>üí° M·ªôt b√≥ng ƒë√®n ƒë·ªÉ qu√™n 8 ti·∫øng/ng√†y l√£ng ph√≠ 60kWh/nƒÉm - ƒë·ªß s·∫°c 5000 ƒëi·ªán tho·∫°i!</em></p>
                    </div>
                `;
            }
            
            // ========== 20. M·∫∏O TI·∫æT KI·ªÜM N∆Ø·ªöC ==========
            else if (msg.includes('ti·∫øt ki·ªám n∆∞·ªõc') || msg.includes('t·ªën n∆∞·ªõc') || msg.includes('h√≥a ƒë∆°n n∆∞·ªõc')) {
                return `
                    <strong>üíß 10 C√ÅCH TI·∫æT KI·ªÜM N∆Ø·ªöC T·∫†I TR∆Ø·ªúNG H·ªåC</strong>
                    <br><br>
<div class="info-card">
                        <ul class="waste-examples">
                            <li><strong>1. Kh√≥a v√≤i n∆∞·ªõc khi kh√¥ng s·ª≠ d·ª•ng:</strong> Khi ƒë√°nh rƒÉng, r·ª≠a tay</li>
                            <li><strong>2. B√°o ngay cho th·∫ßy c√¥ n·∫øu th·∫•y v√≤i n∆∞·ªõc b·ªã r√≤ r·ªâ</strong></li>
                            <li><strong>3. S·ª≠ d·ª•ng ca thay v√¨ v√≤i n∆∞·ªõc ch·∫£y li√™n t·ª•c</strong> khi ƒë√°nh rƒÉng</li>
                            <li><strong>4. Thu gom n∆∞·ªõc m∆∞a</strong> ƒë·ªÉ t∆∞·ªõi c√¢y trong v∆∞·ªùn tr∆∞·ªùng</li>
                            <li><strong>5. T√°i s·ª≠ d·ª•ng n∆∞·ªõc r·ª≠a rau, vo g·∫°o</strong> ƒë·ªÉ t∆∞·ªõi c√¢y</li>
                            <li><strong>6. Kh√¥ng x·∫£ n∆∞·ªõc b·ª´a b√£i, ch∆°i ƒë√πa v·ªõi n∆∞·ªõc</strong></li>
                            <li><strong>7. S·ª≠ d·ª•ng v√≤i sen thay b·ªìn t·∫Øm:</strong> Ti·∫øt ki·ªám 70% n∆∞·ªõc</li>
                            <li><strong>8. ƒê·∫∑t chai nh·ª±a ƒë·∫ßy n∆∞·ªõc v√†o ngƒÉn ch·ª©a c·ªßa b·ªìn c·∫ßu</strong> ƒë·ªÉ gi·∫£m l∆∞·ª£ng n∆∞·ªõc x·∫£</li>
                            <li><strong>9. Ch·ªâ ch·∫°y m√°y gi·∫∑t khi ƒë·ªß t·∫£i</strong></li>
                            <li><strong>10. S·ª≠ d·ª•ng b√¨nh phun v√≤i thay v√¨ v√≤i x·ªãt</strong></li>
                        </ul>
                        <p><em>üí° M·ªói ph√∫t v√≤i n∆∞·ªõc ch·∫£y l√£ng ph√≠ 6 l√≠t n∆∞·ªõc - t∆∞∆°ng ƒë∆∞∆°ng 12 chai n∆∞·ªõc su·ªëi!</em></p>
                    </div>
                `;
            }
            
            // ========== 21. CH√ÄO H·ªéI ==========
            else if (msg.includes('ch√†o') || msg.includes('hello') || msg.includes('hi') || msg.includes('hey') || msg.includes('b·∫°n ∆°i')) {
                return `
                    <strong>üëã CH√ÄO B·∫†N!</strong>
                    <br><br>
                    R·∫•t vui ƒë∆∞·ª£c g·∫∑p b·∫°n. M√¨nh l√† EcoBuddy, tr·ª£ l√Ω AI v·ªÅ m√¥i tr∆∞·ªùng v√† s·ª©c kh·ªèe.
                    <br><br>
                    <strong>B·∫°n c√≥ th·ªÉ h·ªèi m√¨nh b·∫•t c·ª© ƒëi·ªÅu g√¨, v√≠ d·ª•:</strong>
                    <br><br>
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="quickAction('chai-nhua')">"Chai nh·ª±a b·ªè th√πng n√†o?"</button>
                        <button class="quick-action-btn" onclick="quickAction('pin')">"Pin c≈© ƒë·ªÉ ƒë√¢u?"</button>
                        <button class="quick-action-btn" onclick="quickAction('khong-khi')">"H√¥m nay √¥ nhi·ªÖm kh√¥ng?"</button>
                        <button class="quick-action-btn" onclick="quickAction('ho-hap')">"√î nhi·ªÖm g√¢y b·ªánh g√¨?"</button>
                        <button class="quick-action-btn" onclick="quickAction('khau-trang')">"N√™n ƒëeo kh·∫©u trang n√†o?"</button>
                        <button class="quick-action-btn" onclick="quickAction('tiet-kiem-dien')">"C√°ch ti·∫øt ki·ªám ƒëi·ªán"</button>
                    </div>
<br>
                    <strong>‚ö†Ô∏è C·ª® H·ªéI - M√åNH TR·∫¢ L·ªúI 100%!</strong>
                `;
            }
            
            // ========== 22. C·∫¢M ∆†N ==========
            else if (msg.includes('c·∫£m ∆°n') || msg.includes('thanks') || msg.includes('thank')) {
                return `
                    <strong>üôè C·∫¢M ∆†N B·∫†N!</strong>
                    <br><br>
                    R·∫•t vui v√¨ ƒë√£ gi√∫p ƒë∆∞·ª£c b·∫°n. Ch·ªâ c·∫ßn b·∫°n quan t√¢m ƒë·∫øn m√¥i tr∆∞·ªùng v√† s·ª©c kh·ªèe, m√¨nh lu√¥n s·∫µn s√†ng tr·∫£ l·ªùi m·ªçi c√¢u h·ªèi.
                    <br><br>
                    <strong>B·∫°n ƒë√£ t√≠ch l≈©y ƒë∆∞·ª£c ${userData.points} ƒëi·ªÉm xanh!</strong> Ti·∫øp t·ª•c ƒë·∫∑t c√¢u h·ªèi ƒë·ªÉ n√¢ng cao ki·∫øn th·ª©c nh√©! üåü
                    <br><br>
                    C√≤n ƒëi·ªÅu g√¨ b·∫°n mu·ªën h·ªèi n·ªØa kh√¥ng?
                `;
            }
            
            // ========== 23. TH√ÄNH T√çCH ==========
            else if (msg.includes('ƒëi·ªÉm') || msg.includes('th√†nh t√≠ch') || msg.includes('ti·∫øn ƒë·ªô') || msg.includes('x·∫øp h·∫°ng')) {
                return `
                    <strong>üèÜ TH√ÄNH T√çCH C·ª¶A B·∫†N</strong>
                    <br><br>
                    <div class="info-card">
                        <p><strong>üåü ƒêi·ªÉm xanh:</strong> ${userData.points}</p>
                        <p><strong>‚úÖ Ph√¢n lo·∫°i r√°c ƒë√∫ng:</strong> ${userData.correctClassifications} l·∫ßn</p>
                        <p><strong>‚ùì C√¢u h·ªèi ƒë√£ h·ªèi:</strong> ${userData.questionsAsked} c√¢u</p>
                        <p><strong>üìÖ Ng√†y tham gia:</strong> ${userData.daysActive} ng√†y</p>
                        <p><strong>üìà M·ª©c ƒë·ªô hi·ªÉu bi·∫øt:</strong> ${Math.round(userData.knowledgeLevel)}%</p>
                        <p><strong>üéØ Ti·∫øn ƒë·ªô h·ªçc t·∫≠p:</strong> ${Math.round(userData.learningProgress)}%</p>
                    </div>
                    <p>H√£y ti·∫øp t·ª•c ƒë·∫∑t c√¢u h·ªèi ƒë·ªÉ c·∫£i thi·ªán ƒëi·ªÉm s·ªë nh√©!</p>
                `;
            }
            
            // ========== 24. KH√îNG HI·ªÇU C√ÇU H·ªéI ==========
            else {
                return `
                    <strong>‚ùì C√ÇU H·ªéI C·ª¶A B·∫†N: "${escapeHtml(question)}"</strong>
                    <br><br>
                    C·∫£m ∆°n b·∫°n ƒë√£ h·ªèi! Hi·ªán t·∫°i m√¨nh ch∆∞a c√≥ ƒë·ªß d·ªØ li·ªáu ƒë·ªÉ tr·∫£ l·ªùi c√¢u h·ªèi n√†y m·ªôt c√°ch ch√≠nh x√°c nh·∫•t.
                    <br><br>
                    <strong>B·∫°n c√≥ th·ªÉ th·ª≠ h·ªèi m√¨nh nh·ªØng ch·ªß ƒë·ªÅ sau:</strong>
                    <br><br>
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="quickAction('chai-nhua')">üóëÔ∏è Ph√¢n lo·∫°i chai nh·ª±a</button>
                        <button class="quick-action-btn" onclick="quickAction('pin')">üîã Ph√¢n lo·∫°i pin</button>
<button class="quick-action-btn" onclick="quickAction('giay')">üìÑ Ph√¢n lo·∫°i gi·∫•y</button>
                        <button class="quick-action-btn" onclick="quickAction('khong-khi')">üåç Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠</button>
                        <button class="quick-action-btn" onclick="quickAction('ho-hap')">ü´Å B·ªánh h√¥ h·∫•p</button>
                        <button class="quick-action-btn" onclick="quickAction('khau-trang')">üò∑ Kh·∫©u trang</button>
                        <button class="quick-action-btn" onclick="quickAction('tiet-kiem-dien')">‚ö° Ti·∫øt ki·ªám ƒëi·ªán</button>
                        <button class="quick-action-btn" onclick="quickAction('tiet-kiem-nuoc')">üíß Ti·∫øt ki·ªám n∆∞·ªõc</button>
                    </div>
                    <br>
                    <strong>‚ö†Ô∏è HO·∫∂C B·∫†N C√ì TH·ªÇ H·ªéI L·∫†I THEO C√ÅCH KH√ÅC!</strong>
                `;
            }
        }

        // ==================== QUICK ACTIONS ====================
        function quickAction(action) {
            const input = document.getElementById('userInput');
            
            const actionMap = {
                'chai-nhua': 'Chai nh·ª±a b·ªè th√πng n√†o?',
                'pin': 'Pin c≈© ƒë·ªÉ ·ªü ƒë√¢u?',
                'giay': 'Ph√¢n lo·∫°i gi·∫•y, s√°ch b√°o c≈©',
                'lon': 'V·ªè lon bia, n∆∞·ªõc ng·ªçt b·ªè ƒë√¢u?',
                'thuy-tinh': 'Chai th·ªßy tinh b·ªè th√πng n√†o?',
                'bong-den': 'B√≥ng ƒë√®n h·ªèng b·ªè ƒë√¢u?',
                'dien-tu': 'ƒêi·ªán tho·∫°i, m√°y t√≠nh c≈© b·ªè th·∫ø n√†o?',
                'huu-co': 'R√°c h·ªØu c∆° l√† g√¨?',
                'khong-khi': 'Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ h√¥m nay th·∫ø n√†o?',
                'o-nhiem': '√î nhi·ªÖm kh√¥ng kh√≠ ·∫£nh h∆∞·ªüng s·ª©c kh·ªèe ra sao?',
                'ho-hap': 'B·ªánh h√¥ h·∫•p do √¥ nhi·ªÖm',
                'da': 'B·∫£o v·ªá da khi √¥ nhi·ªÖm',
                'mat': 'B·∫£o v·ªá m·∫Øt khi √¥ nhi·ªÖm',
                'tim': '√î nhi·ªÖm v√† b·ªánh tim m·∫°ch',
                'khau-trang': 'N√™n ƒëeo kh·∫©u trang n√†o ƒë·ªÉ ch·ªëng √¥ nhi·ªÖm?',
                'dinh-duong': 'ƒÇn g√¨ ƒë·ªÉ tƒÉng ƒë·ªÅ kh√°ng?',
                'tap-the-duc': 'T·∫≠p th·ªÉ d·ª•c khi √¥ nhi·ªÖm th·∫ø n√†o?',
                'cay-loc-kk': 'C√¢y g√¨ l·ªçc kh√¥ng kh√≠ t·ªët?',
                'tiet-kiem-dien': 'C√°ch ti·∫øt ki·ªám ƒëi·ªán trong tr∆∞·ªùng h·ªçc',
                'tiet-kiem-nuoc': 'C√°ch ti·∫øt ki·ªám n∆∞·ªõc',
                'song-xanh': 'M·∫πo s·ªëng xanh t·∫°i tr∆∞·ªùng'
            };
            
            input.value = actionMap[action] || action;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function scrollToBottom() {
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
}
    </script>
</body>
</html>
